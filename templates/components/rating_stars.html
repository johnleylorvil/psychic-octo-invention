{% load static %}

<div class="rating-stars" data-rating="{{ rating|default:0 }}" aria-label="Note: {{ rating|default:0|floatformat:1 }} sur 5 Ã©toiles">
    <div class="stars-container">
        {% for i in "12345"|make_list %}
            {% if rating >= i|add:0 %}
                <i class="fas fa-star star-filled" aria-hidden="true"></i>
            {% elif rating >= i|add:"-0.5"|floatformat:1 %}
                <i class="fas fa-star-half-alt star-half" aria-hidden="true"></i>
            {% else %}
                <i class="far fa-star star-empty" aria-hidden="true"></i>
            {% endif %}
        {% endfor %}
    </div>
    
    {% if reviews_count %}
        <span class="rating-info">
            <span class="rating-value">{{ rating|floatformat:1 }}</span>
            <span class="reviews-count">({{ reviews_count }} avis)</span>
        </span>
    {% else %}
        <span class="rating-info">
            <span class="no-reviews">Pas encore d'avis</span>
        </span>
    {% endif %}
</div>